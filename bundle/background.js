!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t){"use strict";browser.runtime.onMessage.addListener(function(e,t,o){if("xhttp"===e.action){var n=new XMLHttpRequest,r=e.method?e.method.toUpperCase():"GET";return n.onload=function(){return o(n.responseText)},n.onerror=function(){return o("error")},n.open(r,e.url,!0),"POST"===r&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(e.data),!0}}),browser.storage.sync.get("showNewTheme",function(e){browser.contextMenus.create({title:"Use New Theme",type:"checkbox",contexts:["all"],documentUrlPatterns:["https://pass.calpoly.edu/*"],checked:e.showNewTheme,onclick:function(e,t){browser.tabs.sendMessage(t.id,{action:"toggleTheme",showNewTheme:e.checked})}})}),browser.omnibox.setDefaultSuggestion({description:"Look up '%s' on Polyratings.com"}),browser.omnibox.onInputEntered.addListener(function(e){var t=/[a-z]+ \d+/.test(e),o=t?"class":"profname",n=t?"rating":"name",r=e.replace(/ /g,"+"),s="http://polyratings.com/search.php?type="+o+"&terms="+r+"&format=long&sort="+n;browser.tabs.query({active:!0,currentWindow:!0},function(e){browser.tabs.update(e[0].id,{url:s})})})}]);
//# sourceMappingURL=background.js.map
